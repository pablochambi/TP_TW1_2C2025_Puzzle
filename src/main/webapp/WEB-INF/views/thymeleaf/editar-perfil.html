<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Editar Perfil</title>

  <!-- Boostrap core css-->
  <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.2.0/css/bootstrap.min.css}"/>

  <link rel="stylesheet" th:href="@{/css/editar_perfil.css}"/>


</head>
<body>

<div class="container">

  <!-- Header -->
  <div class="page-header">
    <h1 class="page-title"> Editar Perfil</h1>
    <p class="page-subtitle">Actualiza tu información personal</p>
  </div>

  <!-- Avatar Section -->
  <div class="avatar-section">
    <!-- Avatar Preview (izquierda) -->
    <div class="avatar-preview">
      <div class="avatar" id="avatarPreview">S</div>
      <p class="avatar-label">Vista previa</p>
    </div>

    <!-- Avatar Selection (derecha) -->
    <div class="avatar-selection">
      <div class="selection-title">Seleccionar Avatar</div>

      <div class="avatar-options">
        <!-- Letra automática -->
        <div class="avatar-option letter-avatar selected" data-type="letter" data-value="auto" title="Letra automática">
          S
        </div>

        <div class="avatar-option" data-type="emoji" data-value="&#x1F46E;" title="Policía">&#x1F46E;</div>
        <div class="avatar-option" data-type="emoji" data-value="&#x1F469;&#x200D;&#x1F692;" title="Bombero">&#x1F469;&#x200D;&#x1F692;</div>
        <div class="avatar-option" data-type="emoji" data-value="&#x1F468;&#x200D;&#x1F4BC;" title="Profesional">&#x1F468;&#x200D;&#x1F4BC;</div>
        <div class="avatar-option" data-type="emoji" data-value="&#x1F469;&#x200D;&#x1F4BB;" title="Desarrollador">&#x1F469;&#x200D;&#x1F4BB;</div>
        <div class="avatar-option" data-type="emoji" data-value="&#x1F3AE;" title="Gamer">&#x1F3AE;</div>
        <div class="avatar-option" data-type="emoji" data-value="&#x1F9E0;" title="Inteligente">&#x1F9E0;</div>
        <div class="avatar-option" data-type="emoji" data-value="&#x2B50;" title="Estrella">&#x2B50;</div>
        <div class="avatar-option" data-type="emoji" data-value="&#x1F3C6;" title="Campeón">&#x1F3C6;</div>


      </div>

      <!-- Upload personalizado -->
      <div class="custom-avatar-section">
        <label for="avatarUpload" class="upload-label">
          &#128193; Subir imagen personalizada<br>
          <small>(JPG, PNG, máx. 2MB)</small>
        </label>
        <input type="file" id="avatarUpload" class="upload-input" accept="image/jpeg,image/jpg,image/png" />
      </div>
    </div>
  </div>

  <!-- Edit Form -->
  <div class="edit-form">
    <form id="profileForm">
      <!-- Username -->
      <div class="form-group">
        <label class="form-label" for="username">&#128100; Nombre de Usuario</label>
        <input
                type="text"
                class="form-input"
                id="username"
                value="SudokuMaster2024"
                placeholder="Ingresa tu nombre de usuario"
                maxlength="30"
                required
        >
        <div class="form-help">Cambiar el nombre actualizará el avatar de letra automáticamente</div>
      </div>

      <!-- Email (Fixed) -->
      <div class="form-group">
        <label class="fixed-label">&#x1F4E7; Email</label>
        <div class="fixed-field">
          jugador@email.com
          <div class="fixed-note">El email no se puede modificar por seguridad</div>
        </div>
      </div>

      <!-- Password (Editable) -->
      <div class="form-group">
        <label class="form-label" for="password">&#128274; Contraseña</label>
        <div class="password-group">
          <input
                  type="password"
                  class="form-input"
                  id="password"
                  value="password123"
                  placeholder="Ingresa tu nueva contraseña"
                  minlength="3"
                  required
          >
          <button type="button" class="show-pass-btn" onclick="togglePassword()" title="Mostrar/Ocultar contraseña">
            &#128065;&#65039;
          </button>
        </div>
        <div class="form-help">Mínimo 3 caracteres. Incluye números y letras para mayor seguridad</div>
      </div>

      <!-- Buttons -->
      <div class="form-buttons">
        <button type="submit" class="btn btn-success">
          &#128190; Guardar Cambios
        </button>
        <a th:href="@{/perfil}" class="btn btn-secondary">
          &larr; Volver al Perfil
        </a>
      </div>
    </form>
  </div>
</div>

<script th:src="@{/js/editar_perfil.js}"></script>

</body>
</html>